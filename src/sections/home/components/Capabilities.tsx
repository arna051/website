"use client";

import { Section } from "@/components/Section";
import Swap from "@/components/Swap";
import { Box, Card, CardContent, Stack, Typography } from "@mui/material";
import { motion } from "framer-motion";
import { useMemo } from "react";

const capabilities = [
    {
        title: "توسعه‌ی فول‌استک با Node.js",
        desc: "از APIهای سریع تا ساختارهای میکروسرویس با Express و MongoDB.",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 256 256"><g fill="none"><rect width={256} height={256} fill="#242938" rx={60}></rect><path fill="#81cd39" d="M119.878 31.116c4.919-2.815 11.325-2.828 16.239 0c24.722 13.97 49.452 27.917 74.17 41.895c4.65 2.619 7.759 7.793 7.712 13.15v84.045c.035 5.579-3.382 10.877-8.287 13.436c-24.641 13.893-49.27 27.802-73.907 41.695c-5.019 2.87-11.554 2.649-16.418-.457c-7.387-4.282-14.787-8.544-22.175-12.822c-1.51-.9-3.212-1.616-4.278-3.08c.943-1.27 2.628-1.428 3.997-1.983c3.083-.981 5.916-2.555 8.748-4.082c.717-.49 1.591-.302 2.278.136c6.317 3.622 12.579 7.35 18.917 10.937c1.352.781 2.721-.256 3.877-.9c24.18-13.667 48.39-27.281 72.567-40.952c.896-.431 1.391-1.382 1.318-2.363c.017-27.725.004-55.454.009-83.18c.102-1.112-.542-2.136-1.549-2.592c-24.555-13.829-49.099-27.678-73.65-41.51a2.56 2.56 0 0 0-2.892-.005c-24.552 13.837-49.09 27.7-73.642 41.527c-1.003.457-1.676 1.464-1.557 2.58c.005 27.726 0 55.455 0 83.184a2.35 2.35 0 0 0 1.336 2.334c6.551 3.715 13.111 7.404 19.667 11.107c3.694 1.987 8.228 3.169 12.298 1.646c3.59-1.288 6.107-4.953 6.039-8.765c.034-27.563-.017-55.13.025-82.69c-.09-1.223 1.071-2.234 2.261-2.118c3.148-.022 6.3-.043 9.448.008c1.314-.03 2.218 1.288 2.056 2.52c-.013 27.738.034 55.476-.021 83.213c.008 7.393-3.029 15.437-9.867 19.054c-8.423 4.363-18.835 3.438-27.157-.746c-7.204-3.596-14.08-7.84-21.156-11.692c-4.918-2.545-8.318-7.864-8.283-13.439V86.161c-.052-5.468 3.182-10.736 7.975-13.317c24.637-13.903 49.27-27.818 73.902-41.728"></path><path fill="#81cd39" d="M141.372 89.335c10.745-.692 22.248-.41 31.917 4.884c7.487 4.056 11.637 12.57 11.769 20.887c-.209 1.121-1.382 1.74-2.453 1.663c-3.117-.004-6.236.043-9.353-.021c-1.323.051-2.091-1.168-2.257-2.337c-.896-3.98-3.067-7.921-6.812-9.841c-5.75-2.878-12.416-2.733-18.686-2.673c-4.577.242-9.499.639-13.377 3.33c-2.977 2.039-3.881 6.155-2.819 9.47c1.002 2.38 3.749 3.148 5.998 3.856c12.949 3.387 26.671 3.049 39.373 7.506c5.259 1.817 10.403 5.35 12.203 10.856c2.355 7.38 1.323 16.2-3.928 22.124c-4.258 4.875-10.459 7.529-16.644 8.97c-8.228 1.835-16.767 1.882-25.123 1.067c-7.857-.896-16.034-2.96-22.099-8.313c-5.187-4.504-7.72-11.522-7.469-18.294c.06-1.144 1.199-1.942 2.295-1.848c3.139-.025 6.279-.034 9.418.005c1.255-.09 2.184.994 2.249 2.176c.578 3.791 2.003 7.771 5.31 10.018c6.38 4.117 14.387 3.835 21.693 3.95c6.053-.268 12.848-.349 17.787-4.35c2.606-2.282 3.378-6.1 2.674-9.384c-.763-2.773-3.664-4.065-6.155-4.91c-12.783-4.043-26.659-2.576-39.318-7.149c-5.14-1.816-10.11-5.25-12.084-10.53c-2.755-7.473-1.493-16.717 4.308-22.44c5.656-5.695 13.82-7.888 21.583-8.672"></path></g></svg>
    },
    {
        title: "سیستم‌های نهفته و سخت‌افزار",
        desc: "توسعه‌ی برد، برنامه‌نویسی low-level و یکپارچه‌سازی نرم‌افزار با سخت‌افزار.",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 256 256"><g fill="none"><rect width={256} height={256} fill="#00599c" rx={60}></rect><path fill="#fff" d="M110.759 210.517C65.125 210.517 28 173.392 28 127.759C28 82.125 65.125 45 110.759 45c29.445 0 56.908 15.846 71.668 41.353l-35.816 20.726c-7.387-12.768-21.126-20.7-35.852-20.7c-22.817 0-41.38 18.563-41.38 41.38c0 22.816 18.563 41.379 41.38 41.379c14.727 0 28.466-7.932 35.854-20.702l35.816 20.725c-14.76 25.51-42.223 41.356-71.67 41.356"></path><path fill="#fff" d="M193.517 123.161h-9.196v-9.196h-9.194v9.196h-9.196v9.195h9.196v9.196h9.194v-9.196h9.196zm34.483 0h-9.196v-9.196h-9.194v9.196h-9.196v9.195h9.196v9.196h9.194v-9.196H228z"></path></g></svg>
    },
    {
        title: "اپلیکیشن دسکتاپ با Electron",
        desc: "ساخت برنامه‌های کراس‌پلتفرم برای ویندوز، مک و لینوکس.",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 256 256"><g fill="none"><rect width={256} height={256} fill="#2b2e3a" rx={60}></rect><path fill="#9feaf9" d="M100.768 70.772c-26.005-4.736-46.567.221-54.762 14.415c-6.115 10.592-4.367 24.635 4.24 39.646a2.67 2.67 0 0 0 4.462.342a2.67 2.67 0 0 0 .519-2.002a2.7 2.7 0 0 0-.355-.993c-7.752-13.522-9.261-25.641-4.247-34.326c6.808-11.791 25.148-16.213 49.187-11.835a2.667 2.667 0 0 0 .956-5.247m-36.999 72.307c10.515 11.555 24.176 22.394 39.756 31.388c37.723 21.78 77.883 27.601 97.675 14.106a2.66 2.66 0 0 0 1.152-1.711a2.66 2.66 0 0 0-1.165-2.756a2.665 2.665 0 0 0-2.992.061c-17.714 12.078-55.862 6.548-92.003-14.318c-15.114-8.726-28.343-19.222-38.478-30.36a2.67 2.67 0 0 0-1.849-.876a2.664 2.664 0 0 0-2.795 2.543a2.67 2.67 0 0 0 .699 1.923"></path><path fill="#9feaf9" d="M194.886 139.835c17.028-20.116 22.973-40.348 14.795-54.512c-6.017-10.423-18.738-15.926-35.645-16.146a2.666 2.666 0 0 0-1.92 4.514a2.67 2.67 0 0 0 1.851.819c15.205.198 26.165 4.939 31.096 13.48c6.792 11.765 1.49 29.807-14.248 48.399a2.66 2.66 0 0 0-.643 1.952c.027.352.124.694.285 1.008a2.65 2.65 0 0 0 1.568 1.328c.337.107.691.146 1.042.114a2.7 2.7 0 0 0 1.005-.296c.313-.164.589-.388.814-.66M151.125 71.66c-15.396 3.299-31.784 9.749-47.522 18.835c-38.942 22.483-64.345 55.636-60.817 79.675a2.66 2.66 0 0 0 1.038 1.775a2.66 2.66 0 0 0 2.98.155a2.66 2.66 0 0 0 1.217-1.657a2.7 2.7 0 0 0 .042-1.048c-3.133-21.344 20.947-52.769 58.207-74.281c15.267-8.815 31.135-15.06 45.972-18.239a2.67 2.67 0 0 0 1.674-4.14a2.68 2.68 0 0 0-1.74-1.106a2.7 2.7 0 0 0-1.051.031"></path><path fill="#9feaf9" d="M88.036 186.835c8.904 24.86 23.469 40.167 39.847 40.167c11.945 0 22.996-8.143 31.614-22.478a2.67 2.67 0 0 0 .327-2.033a2.66 2.66 0 0 0-3.256-1.957a2.68 2.68 0 0 0-1.642 1.242c-7.745 12.883-17.258 19.892-27.043 19.892c-13.605 0-26.596-13.652-34.825-36.63a2.66 2.66 0 0 0-1.364-1.552a2.66 2.66 0 0 0-2.966.432a2.68 2.68 0 0 0-.864 1.877c-.012.355.047.709.173 1.04zm81.322-4.863c4.61-14.728 7.085-31.718 7.085-49.423c0-44.179-15.463-82.263-37.487-92.042a2.667 2.667 0 0 0-2.164 4.874c19.643 8.723 34.317 44.866 34.317 87.168c0 17.177-2.397 33.63-6.84 47.83a2.67 2.67 0 0 0 .816 2.874a2.675 2.675 0 0 0 2.971.313a2.67 2.67 0 0 0 1.303-1.594zm50.224-2.612c0-7.049-5.714-12.763-12.763-12.763s-12.763 5.714-12.763 12.763s5.714 12.763 12.763 12.763s12.763-5.714 12.763-12.763m-5.333 0c0 .976-.192 1.942-.566 2.843a7.42 7.42 0 0 1-4.021 4.022a7.432 7.432 0 0 1-10.273-6.865a7.432 7.432 0 0 1 12.684-5.254a7.43 7.43 0 0 1 2.176 5.254M48.763 192.123c7.05 0 12.764-5.714 12.764-12.763s-5.715-12.763-12.764-12.763S36 172.311 36 179.36s5.715 12.763 12.763 12.763m0-5.333a7.431 7.431 0 0 1-5.254-12.684a7.431 7.431 0 0 1 12.684 5.254a7.43 7.43 0 0 1-7.43 7.43"></path><path fill="#9feaf9" d="M127.883 53.526c7.049 0 12.763-5.714 12.763-12.763S134.932 28 127.883 28s-12.763 5.714-12.763 12.763s5.714 12.763 12.763 12.763m0-5.333a7.43 7.43 0 1 1 0-14.861a7.43 7.43 0 0 1 0 14.861m1.949 93.382c-4.985 1.077-9.896-2.091-10.975-7.076a9.233 9.233 0 0 1 7.076-10.976c4.985-1.077 9.896 2.091 10.976 7.076c1.077 4.985-2.091 9.897-7.077 10.976"></path></g></svg>
    },
    {
        title: "اپلیکیشن موبایل با React Native",
        desc: "طراحی اپ برای iOS و Android با کد مشترک.",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 256 256"><g fill="none"><rect width={256} height={256} fill="#242938" rx={60}></rect><path fill="#00d8ff" d="M128.001 146.951c10.304 0 18.656-8.353 18.656-18.656s-8.352-18.656-18.656-18.656s-18.656 8.353-18.656 18.656s8.353 18.656 18.656 18.656"></path><path stroke="#00d8ff" strokeWidth={8.911} d="M128.002 90.363c25.048 0 48.317 3.594 65.862 9.635C215.003 107.275 228 118.306 228 128.295c0 10.409-13.774 22.128-36.475 29.649c-17.162 5.686-39.746 8.654-63.523 8.654c-24.378 0-47.463-2.786-64.819-8.717C41.225 150.376 28 138.506 28 128.295c0-9.908 12.41-20.854 33.252-28.12c17.61-6.14 41.453-9.812 66.746-9.812z" clipRule="evenodd"></path><path stroke="#00d8ff" strokeWidth={8.911} d="M94.981 109.438c12.514-21.698 27.251-40.06 41.249-52.24c16.864-14.677 32.914-20.425 41.566-15.436c9.017 5.2 12.288 22.988 7.463 46.41c-3.645 17.707-12.359 38.753-24.238 59.351c-12.179 21.118-26.124 39.724-39.931 51.792c-17.471 15.272-34.362 20.799-43.207 15.698c-8.583-4.946-11.865-21.167-7.747-42.852c3.479-18.323 12.21-40.812 24.841-62.723z" clipRule="evenodd"></path><path stroke="#00d8ff" strokeWidth={8.911} d="M95.012 147.578c-12.549-21.674-21.093-43.616-24.659-61.826c-4.293-21.941-1.258-38.716 7.387-43.72c9.009-5.216 26.052.834 43.934 16.712c13.52 12.004 27.403 30.061 39.316 50.639c12.214 21.098 21.368 42.473 24.929 60.461c4.506 22.764.859 40.157-7.978 45.272c-8.574 4.964-24.265-.291-40.996-14.689c-14.136-12.164-29.26-30.959-41.933-52.849Z" clipRule="evenodd"></path></g></svg>
    },
    {
        title: "مدیریت پایگاه‌داده MongoDB",
        desc: "پیاده‌سازی پیشرفته: standalone، replica set و sharding.",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 256 256"><g fill="none"><rect width={256} height={256} fill="#023430" rx={60}></rect><path fill="#10aa50" d="M171.173 107.591c-10.537-46.481-32.497-58.855-38.099-67.602A99 99 0 0 1 126.949 28c-.296 4.13-.84 6.73-4.35 9.862c-7.047 6.283-36.977 30.673-39.496 83.486c-2.347 49.242 36.2 79.605 41.292 82.744c3.916 1.927 8.685.041 11.012-1.728c18.581-12.752 43.969-46.75 35.786-94.773"></path><path fill="#b8c4c2" d="M128.545 177.871c-.97 12.188-1.665 19.27-4.129 26.235c0 0 1.617 11.603 2.753 23.894h4.019a224 224 0 0 1 4.384-25.732c-5.203-2.56-6.827-13.702-7.027-24.397"></path><path fill="#12924f" d="M135.565 202.275c-5.258-2.429-6.779-13.806-7.013-24.404a500 500 0 0 0 1.136-52.545c-.276-9.194.13-85.158-2.265-96.28a92 92 0 0 0 5.651 10.936c5.602 8.754 27.569 21.128 38.099 67.609c8.203 47.941-17.047 81.849-35.608 94.684"></path></g></svg>
    },
    {
        title: "زیرساخت با NGINX و DNS",
        desc: "تنظیم و پیکربندی کامل NGINX، DNS (با BIND9) و شبکه.",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 256 256"><g fill="none"><rect width={256} height={256} fill="#009639" rx={60}></rect><path fill="#fff" d="M195.338 213a17.64 17.64 0 0 1-12.491-5.171L78.324 103.307v92.033c0 9.755-7.906 17.66-17.662 17.66C50.912 213 43 205.095 43 195.34V60.668c0-7.15 4.31-13.585 10.908-16.318a17.63 17.63 0 0 1 19.245 3.828L177.676 152.7V60.668c0-9.756 7.906-17.66 17.662-17.66S213 50.911 213 60.667V195.34c0 7.141-4.31 13.584-10.908 16.318a17.6 17.6 0 0 1-6.754 1.342"></path></g></svg>
    },
    {
        title: "یادگیری ماشین و هوش مصنوعی",
        desc: "مدل‌سازی و پیاده‌سازی الگوریتم‌های ML/AI برای کاربردهای واقعی.",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 256 256"><g fill="none"><rect width={256} height={256} fill="#242938" rx={60}></rect><path fill="#ff6f00" d="m124.228 229l-33.605-20.11V90.31L40 120.459l.123-44.914L124.228 26zm7.556-203v203l33.609-20.11v-57.109l25.37 15.114l-.151-39.062l-25.219-14.845V90.31L216 120.459l-.122-44.914z"></path></g></svg>
    },
    {
        title: "راهکارهای سفارشی",
        desc: "ما هر چیزی را می‌سازیم. دقیقاً چیزی که پروژه‌ی شما نیاز دارد.",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 256 256"><g fill="none"><rect width={256} height={256} fill="#242938" rx={60}></rect><path fill="#2489ca" d="M33.716 100.208s-4.735-3.413.947-7.97l13.236-11.836s3.788-3.985 7.792-.513l122.149 92.479v44.346s-.059 6.964-8.996 6.194z"></path><path fill="#1070b3" d="m65.2 128.792l-31.484 28.623s-3.236 2.407 0 6.708l14.617 13.295s3.472 3.729 8.601-.513l33.378-25.309z"></path><path fill="#0877b9" d="m120.474 129.029l57.741-44.09l-.375-44.109s-2.466-9.627-10.692-4.616l-76.836 69.931z"></path><path fill="#3c99d4" d="M168.844 222.968c3.354 3.432 7.418 2.308 7.418 2.308l44.997-22.173c5.76-3.926 4.951-8.798 4.951-8.798V61.898c0-5.82-5.958-7.831-5.958-7.831l-38.999-18.8c-8.522-5.267-14.105.947-14.105.947s7.18-5.168 10.692 4.616v175.075a8 8 0 0 1-.769 3.453c-1.026 2.071-3.255 4.004-8.601 3.195z"></path></g></svg>
    },
];

export function HomeCapabilities() {
    const MotionCard = useMemo(() => motion(Card), []);

    return (
        <Section sx={{ position: 'relative' }}>
            <Box component="div" id="capabilities" />
            <Stack justifyContent="center" alignItems="center" sx={{ height: '100%', maxWidth: '99vw', overflow: 'hidden' }}>
                {/* Background image */}
                <Box
                    component="img"
                    src="/projects/coffe.jpg"
                    alt="بنر هیپوگریف"
                    sx={{
                        position: "absolute",
                        inset: 0,
                        objectFit: "cover",
                        width: "100%",
                        height: "100%",
                        opacity: 0.1,
                    }}
                />


                <Stack direction={{ xs: 'column', md: 'row' }} gap={2} sx={{ mb: { xs: 0, md: 6 }, p: 4 }}>
                    <svg xmlns="http://www.w3.org/2000/svg" width={80} height={80} viewBox="0 0 32 32"><path fill="#2196f3" d="M24.003 2L12 13.303L4.84 8L2 10l6.772 6L2 22l2.84 2L12 18.702L24.003 30L30 27.087V4.913ZM24 9.434v13.132L15.289 16Z"></path></svg>
                    <Stack gap={2}>
                        {/* Background image */}

                        <Typography
                            variant="h4"
                            fontWeight="bold"
                        >
                            توانمندی‌های ما
                        </Typography>

                        <Typography
                            variant="body1"
                            color="text.secondary"
                            maxWidth="md"
                            mx="auto"
                        >
                            ما تیمی از مهندسان نرم‌افزار و سخت‌افزار هستیم که تخصص ما در توسعه‌ی سامانه‌های سفارشی و پیچیده است. از طراحی بردهای نهفته تا اپلیکیشن‌های فول‌استک، توانایی هماهنگ‌سازی سیستم‌های نرم‌افزاری و سخت‌افزاری را در سطوح مختلف داریم.
                        </Typography>
                    </Stack>
                </Stack>
                <Box>
                    <Swap>
                        {capabilities.map((cap, index) => (
                            <MotionCard
                                key={index}
                                whileInView={{ opacity: 1, y: 0 }}
                                initial={{ opacity: 0, y: 30 }}
                                transition={{ delay: index * 0.1, duration: 0.5 }}
                                viewport={{ once: true }}
                                sx={{
                                    minWidth: 300,
                                    height: 300,
                                    p: 2,
                                    boxShadow: 3,
                                }}
                            >
                                <CardContent>
                                    <Stack alignItems="center" justifyContent="center" gap={2}>
                                        {cap.icon}
                                        <Typography variant="subtitle1" fontWeight="bold" gutterBottom textAlign="center">
                                            {cap.title}
                                        </Typography>
                                        <Typography variant="body2" color="text.secondary" textAlign="center">
                                            {cap.desc}
                                        </Typography>
                                    </Stack>
                                </CardContent>
                            </MotionCard>
                        ))}
                    </Swap>
                </Box>
            </Stack>
        </Section>
    );
}
